(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,a){e.exports=a(90)},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(43),c=a.n(s),l=a(45),o=a(10),i=a(1),m=a(6),u=a(7),d=a(9),p=a(8),h=a(5),v=a.n(h),E=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).onDelete=function(e){v.a.delete("/posts/delete/".concat(e)).then((function(e){alert(e.data.title+" has been deleted successfully"),n.getPosts()}))},n.handleTextSearch=function(e){var t=e.currentTarget.value;v.a.get("/posts").then((function(e){e.data.success&&n.filterContent(e.data.posts,t)}))},n.state={posts:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"getPosts",value:function(){var e=this;v.a.get("/posts").then((function(t){t.data.success&&(e.setState({posts:t.data.posts}),console.log("post: ",e.state.posts))}))}},{key:"filterContent",value:function(e,t){var a=e.filter((function(e){return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.postCategory.toLowerCase().includes(t)}));this.setState({posts:a})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-9 mt-2 mb-2"},r.a.createElement("h4",null,"All Posts")),r.a.createElement("div",{className:"col-lg-3 mt-2 mb-2"},r.a.createElement("input",{className:"form-control",type:"search",placeholder:"Search",name:"searchTerm",onChange:this.handleTextSearch}))),r.a.createElement("table",{class:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Title"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Category"),r.a.createElement("th",{scope:"col"},"Actions"))),r.a.createElement("tbody",null,this.state.posts.map((function(t,a){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a),r.a.createElement("td",null,r.a.createElement(o.b,{to:"/posts/".concat(t._id)},t.title)),r.a.createElement("td",{dangerouslySetInnerHTML:{__html:t.description}}),r.a.createElement("td",null,t.postCategory),r.a.createElement("td",null,r.a.createElement(o.b,{className:"btn btn-warning",to:"/edit/".concat(t._id)},r.a.createElement("i",{className:"fas fa-edit"}),"\xa0Edit"),"\xa0",r.a.createElement(o.b,{className:"btn btn-danger",to:"#",onClick:function(){return e.onDelete(t._id)}},r.a.createElement("i",{class:"far fa-trash-alt"}),"\xa0Delete")))})))),r.a.createElement(o.b,{to:"/add",className:"btn btn-success"},"Add New Post"))}}]),a}(n.Component),g=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={post:{}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;v.a.get("/posts/detail/".concat(t)).then((function(t){t.data.success&&(e.setState({post:t.data.post}),console.log("post: ",e.state.post))}))}},{key:"render",value:function(){var e=this.state.post,t=e.title,a=e.postCategory,n=e.description;return r.a.createElement("div",null,r.a.createElement("h4",null,t),r.a.createElement("hr",null),r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-sm-2"},"Category"),r.a.createElement("dd",{className:"col-sm-10"},a),r.a.createElement("dt",{className:"col-sm-2"},"Description"),r.a.createElement("dd",{className:"col-sm-10"},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:n}}))))}}]),a}(n.Component),b=a(13),f=a(14),y=function(e,t,a){var n={};return n.title=e?"":"Title is required",n.description=t?"":"Description is required",n.category=a?"":"Category is required",n},N=a(17),C=a.n(N),j=a(18),O=a.n(j),k=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(f.a)(Object(f.a)({},n.state),{},Object(b.a)({},a,r)))},n.validate=function(e,t,a){var r=y(e,t,a);return n.setState({errors:r}),Object.values(r).every((function(e){return""===e}))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,r=t.description,s=t.category;if(n.validate(a,r,s)){var c={title:a,description:r,postCategory:s};console.log(c),v.a.post("/posts/add",c).then((function(e){e.data.success&&(alert("Added"),n.setState({title:"",description:"",category:""}))}))}},n.state={title:"",description:"",category:"",errors:{}},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-10 mt-3 mx-auto"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Create new post"),r.a.createElement("form",{className:"needs-validation",noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Enter title",value:this.state.title,onChange:this.handleInputChange}),this.state.errors.title&&r.a.createElement("div",{className:"text-danger"},this.state.errors.title)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Category"),r.a.createElement("input",{type:"text",className:"form-control",name:"category",placeholder:"Enter category",value:this.state.category,onChange:this.handleInputChange}),this.state.errors.category&&r.a.createElement("div",{className:"text-danger"},this.state.errors.category)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement(C.a,{editor:O.a,data:this.state.description,onChange:function(t,a){var n=a.getData();e.setState({description:n})}}),this.state.errors.description&&r.a.createElement("div",{className:"text-danger"},this.state.errors.description)),r.a.createElement("button",{className:"btn btn-success",type:"submit",onClick:this.onSubmit},r.a.createElement("i",{className:"far fa-check-square"}),"\xa0Submit")))}}]),a}(n.Component),S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(f.a)(Object(f.a)({},n.state),{},Object(b.a)({},a,r)))},n.validate=function(e,t,a){var r=y(e,t,a);return n.setState({errors:r}),Object.values(r).every((function(e){return""===e}))},n.onSubmit=function(e){e.preventDefault();var t=n.props.match.params.id,a=n.state,r=a.title,s=a.description,c=a.category;if(n.validate(r,s,c)){var l={title:r,description:s,postCategory:c};console.log(l),v.a.put("/posts/update/".concat(t),l).then((function(e){e.data.success&&alert("Edited successfully")}))}},n.state={title:"",description:"",category:"",errors:{}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;v.a.get("/posts/detail/".concat(t)).then((function(t){t.data.success&&e.setState({title:t.data.post.title,description:t.data.post.description,category:t.data.post.postCategory})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-10 mt-3 mx-auto"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Edit post"),r.a.createElement("form",{className:"needs-validation",noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Enter title",value:this.state.title,onChange:this.handleInputChange}),this.state.errors.title&&r.a.createElement("div",{className:"text-danger"},this.state.errors.title)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Category"),r.a.createElement("input",{type:"text",className:"form-control",name:"category",placeholder:"Enter category",value:this.state.category,onChange:this.handleInputChange}),this.state.errors.category&&r.a.createElement("div",{className:"text-danger"},this.state.errors.category)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement(C.a,{editor:O.a,data:this.state.description,onChange:function(t,a){var n=a.getData();e.setState({description:n})}}),this.state.errors.description&&r.a.createElement("div",{className:"text-danger"},this.state.errors.description)),r.a.createElement("button",{className:"btn btn-success",type:"submit",onClick:this.onSubmit},r.a.createElement("i",{className:"far fa-check-square"}),"\xa0Submit")))}}]),a}(n.Component),w=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(m.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Notion"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(o.b,{className:"nav-link",to:"/"},"All Posts ",r.a.createElement("span",{className:"sr-only"},"(current)"))))))}}]),a}(n.Component),x=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),a=t[0],s=t[1];console.log("sssss"),Object(n.useEffect)((function(){var e=function(e){"Enter"===e.key&&s((function(e){return e+1}))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[]),Object(n.useEffect)((function(){3===a&&console.log("Enter key pressed 3 times!")}),[a]);return a<3?r.a.createElement(r.a.Fragment,null):r.a.createElement(o.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"Enter count: ",a),r.a.createElement(w,null),r.a.createElement(i.a,{path:"/",exact:!0,component:E}),r.a.createElement(i.a,{path:"/posts/:id",component:g}),r.a.createElement(i.a,{path:"/add",component:k}),r.a.createElement(i.a,{path:"/edit/:id",component:S})))};c.a.render(r.a.createElement(x,null),document.querySelector("#root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.a543915f.chunk.js.map